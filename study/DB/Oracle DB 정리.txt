Oracle DB 정리

Oracle DB 설치 이후 SQL Developer로 접속 및 편집 가능 (Portable 프로그램임.)
sqlplus CLI 에서도 접속 및 편집 가능.
-> GUI 로 관리하고싶다 == SQL Developer
-> CLI 로 관리하고 싶다 == SQLPLUS 사용.

** 접속 이전 DB startup, shutdown 상태 확인

DATABASE 정보 확인
데이터베이스 이름 확인
	SELECT NAME, DB_UNIQUE_NAME FROM v$database;
SID 확인
	SELECT instance FROM v$thread;
접속 포트는 listener.opa 파일에 명시되어 있음.

오라클 DB 관리자 유저
sys as sysdba -> DB 생성 및 삭제 가능한 관리자 권한.
system -> DB 생성 및 삭제 제외 모든 권한 가진 SU.

사용자 접속 명령어
connect username as usergroup

모든 사용자 보기
SQL>SELECT * FROM all_users;

사용자 접근 관련 주의 사항
- oracle 12c 부터 사용자명 앞에 C## 을 명시해야함.
- 사용자명, 패스워드 모두 대소문자를 구분함.
- 따라서 "C##testuser" 가 될 경우 반드시 C##testuser 로 접속, 권한부여 해야 함.
솔루션1: C##을 포함하여 대문자 또는 소문자로 통일하여 그대로 사용.
솔루션2: 아래 명령어 사용 후 기존 방식대로 C## 없이 사용자 생성.
alter session set "_ORACLE_SCRIPT"=true;


사용자 생성 생성
CREATE USER "C##testuser" IDENTIFIED BY "testpwd";
*** oracle 12c 버전부터 사용자명 앞에 C## 붙여줘야 함.

사용자 계정 삭제
DROP USER testuser;

사용자 권한부여
권한 목록 - CONNECT, RESOURCE, DELETE, INSERT, SELECT, UPDATE

권한에 대한 정보 확인 - dba 권한 필요 ex) CONNECT 권한 확인.
SELECT * FROM DBA_SYS_PRIVS WHERE GRANTEE = 'CONNECT';

접속 권한 부여
GRANT CONNECT, RESOURCE TO "C##testuser";

특정 DB에 대한 권한 부여 ex) testuser가 testDB 에서 사용 할 권한 부여
GRANT DELETE, INSERT, SELECT, UPDATE ON testdb TO testuser;

DBA 권한 부여
GRANT DBA TO testuser;

부여한 권한 취소
REVOKE CONNECT, RESOURCE FROM testuser;